---
title: Web Crawling Practice
create_date: 2024-06-10 13:06 - 2024-06-10 13:06
---
## 멜론 차트 크롤링(Melon Chart Crawling)

>[!Todo]
>1. requests or urllib로 html 불러오기
>2. soup = BeautifulSoup(html)

### 1. requests or urllib로 html 불러오기

>[!Reference]
>[requeset 모듈 문서](https://docs.python-requests.org/en/latest/user/quickstart/)

- `requests`: HTTP 요청을 보내는 모듈
```python
import requests # HTTP 요청을 보내는 모듈

url = "https://www.melon.com/chart/index.htm"
# 현재 사용자가 어떤 클라이언트(운영체제와 브라우저 같은 것)를 이용해 요청을 보냈는지 확인
req_header = {'user-agent': 'Chrome/125.0.6422.142'}

res = requests.get(url, headers= req_header)
html = res.text
```

### 2. soup = BeautifulSoup(html)

>[!Reference]
>[BeautifulSoup 문서](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)

- `BeautifulSoup`: HTML과 XML 파일로부터 데이터를 뽑아내기 위한 파이썬 라이브러리
```python
from bs4 import BeautifulSoup

soup = BeautifulSoup(html)
```

---
>[!Memo]
>- 하나씩 정보를 끌어다와서 확인 후 한곡의 모든 항목이 끝나면 딕셔너리로 모은 뒤 for loop를 사용하여 100개 출력하기

### .find, .findall 함수 이해하기
- tag 추출하기
#### findAll(tag, attributes, recursive, text, limit, keyword)
- tag, attributes
	- `.findAll("태그명","dict 형식의 속성")`
- recursive
	- `recursive` 가 `True`이면 `findAll`함수는 매개변수에 일치하는 태그를 찾아 자식, 자식의 자식까지 검색
	- `recursive`가 `False`이면 `findAll`함수는 문서의 최상위 태그만 검색
- text
	- `text`는 태그의 속성이 아니라 텍스트 콘텐츠가 일치하는 값을 찾음
- keyword
	- 특정 속성이 포함된 태그를 선택할 때 사용됨
- limit
	- 페이지의 항목 처음 몇개에만 관심이 있을 때 사용
	- 이 매개변수는 페이지에 나타난 순서대로 찾으며 그 순서가 원하는 바와 일치한다는 보장 X

#### find(tag, attributes, recursive, text, keyword)
- `findAll`과 비슷하지만 limit가 없음.
- `find`는 `findAll`을 호출하면서 limit가 1인 함수 -> 1개만 출력